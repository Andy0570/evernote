[TOC]

## Linux 文件系统格式

| 操作系统 | 文件系统格式          |
| -------- | --------------------- |
| Windows  | FAT、NTFS 等           |
| Linux    | Ext2、Ext3、reiserFS 等 |

![image](https://ws1.sinaimg.cn/large/006tNc79ly1fz0f1zarbuj30yg09q0to.jpg)

* Ext2 文件系统是非日志文件系统。
* Ext3 文件系统带有日志功能，可以跟踪记录文件系统的变化，并将变化内容写入日志。
* 在 Linux 系统中你可以挂载 Windows 的文件系统，linux 目前支持 MS-DOS，VFAT，FAT，BSD 等格式。
* 如果你使用的是 Redhat 或者 CentOS，那么你不要妄图挂载 NFS 格式的文件到 Linux 下，因为它不支持 NFS。
* Ext3 文件系统为 Redhat/CentOS 默认使用的文件系统。

### Linux 文件系统


| 文件系统 | 描述 |
| --- | --- |
| ext | Linux扩展文件系统，最早的Linux文件系统 |
| ext2 | 第二扩展文件系统，在ext的基础上提供了更多的功能 |
| ext3 | 第三扩展文件系统，支持日志功能 |
| ext4 | 第四扩展文件系统，支持高级日志功能 |
| hpfs | OS/2高性能文件系统 |
| jfs | IBM日志文件系统 |
| iso9660 | iso9660文件系统（CD-roM） |
| minix | MINIXT文件系统 |
| msdos | 微软的FAT16 |
| ncp | Netware文件系统 |
| nfs | 网络文件系统 |
| ntfs | 支持Microsoft NT文件系统 |
| proc | 访问系统信息 |
| ReiserFS | 高级 Linux文件系统，能提供更好的性能和硬盘恢复功能 |
| smb | 支持网络访问的JSamba文件系统 |
| sysv | 较早期的Unix文件系统 |
| ufs | BSD文件系统 |
| umsdos | 建立在 msdos上的类Unix文件系统 |
| vfat | Windows 95 文件系统（FAT 32） |
| XFS | 高性能64位日志文件系统 |


> “Linux内核采用虚拟文件系统（Virtual File System，VFS）作为和每个文件系统交互的接口。这为Linux内核同任何类型文件系统通信提供了一个标准接口。当每个文件系统都被挂载和使用时，VFS将信息都缓存在内存中。”
> 
> 摘录来自: [美] Richard Blum. “Linux命令行与shell脚本编程大全（第3版）。” Apple Books. 

## Linux 文件类型

1. **普通文件（regular file）**：一般类型的文件，当用 `ls –l` 查看某个目录时，第一个属性为”-“的文件就是正规文件，或者叫普通文件。正规文件又可分成纯文字文件（ascii）和二进制文件（binary）。纯文本文件可以通过 `cat`, `more`, `less` 等工具直接查看内容，而二进制文件并不能。例如我们用的命令 /bin/ls 这就是一个二进制文件。
2. **目录（directory）**：这个很容易理解，就是目录，跟 windows 下的文件夹一个意思，只不过在 Linux 中我们不叫文件夹，而是叫做目录。`ls –l` 查看第一个属性为”d”。
3. **连接档（link）**：`ls –l` 查看第一个属性为 “l”，类似 windows 下的快捷方式。这种文件在 Linux 中很常见。
4. **设备档（device）**：与系统周边相关的一些档案，通常都集中在 /dev 这个目录之下！通常又分为两种：
   * **区块(block) 设备档**：就是一些储存数据，以提供系统存取的接口设备，简单的说就是硬盘啦！例如你的一号硬盘的代码是/dev/hda1 等等的档案啦！第一个属性为 “ b “；
   * **字符 (character) 设备档**：亦即是一些串行端口的接口设备，例如键盘、鼠标等等！第一个属性为 “ c “。



## Linux 系统目录结构

【虚拟目录】
Linux 将文件存储在单个目录结构中，这个目录被称为**虚拟目录**（virtual directory）。虚拟目录将安装在 PC 上的所有存储设备的文件路径纳入单个目录结构中。

【根目录】
Linux虚拟目录结构只包含一个称为**根（root）目录**的基础目录。根目录下的目录和文件会按照访问它们的目录路径一一列出。

【根驱动器】
在Linux PC上安装的第一块硬盘称为**根驱动器**。根驱动器包含了虚拟目录的核心，其他目录都是从那里开始构建的。

【挂载点】
Linux会在根驱动器上创建一些特别的目录，我们称之为**挂载点**（mount point）。挂载点是虚拟目录中用于分配额外存储设备的目录。


* Linux 以分层目录结构来组织所有文件。
* 在 Linux 中，任何东西都是一个文件。

| 目录 | 描述 |
| --- | --- |
| / | 根目录，万物起源。 |
| /bin | 包含系统启动和运行所必须的二进制程序。|
| /boot | 包含 Linux 内核，最初的 RMA 磁盘映像（系统启动时，由驱动程序所需），和启动加载程序。 有趣的文件：/boot/grub/grub.conf or menu.lst，被用来配置启动加载程序。/boot/vmlinuz，Linux 内核。|
| /dev | 这是一个包含设备结点的特殊目录。“一切都是文件”，也适用于设备。 在这个目录里，内核维护着它支持的设备。|
| /etc | 这个目录包含所有系统层面的配置文件。它也包含一系列的 shell 脚本，在系统启动时，这些脚本会运行每个系统服务。这个目录中的任何文件应该是可读的文本文件。有意思的文件：虽然 /etc 目录中的任何文件都有趣，但这里只列出了一些我一直喜欢的文件：/etc/crontab， 定义自动运行的任务。/etc/fstab，包含存储设备的列表，以及与他们相关的挂载点。/etc/passwd，包含用户帐号列表。|
| /home | 在通常的配置环境下，系统会在 /home 下，给每个用户分配一个目录。普通只能在他们自己的目录下创建文件。这个限制保护系统免受错误的用户活动破坏。 |
| /lib | 包含核心系统程序所需的库文件。这些文件与 Windows 中的动态链接库相似。|
| /lost+found | 每个使用 Linux 文件系统的格式化分区或设备，例如 ext3 文件系统， 都会有这个目录。当部分恢复一个损坏的文件系统时，会用到这个目录。除非文件系统 真正的损坏了，那么这个目录会是个空目录 |
| /media | 在现在的 Linux 系统中，/media 目录会包含可移除媒体设备的挂载点， 例如 USB 驱动器，CD-ROMs 等等。这些设备连接到计算机之后，会自动地挂载到这个目录结点下。|
| /mnt | 在早些的 Linux 系统中，/mnt 目录包含可移除设备的挂载点。|
| /opt | 这个 /opt 目录被用来安装 “可选的” 软件。这个主要用来存储可能安装在系统中的商业软件产品。|
| /proc | 这个 /proc 目录很特殊。从存储在硬盘上的文件的意义上说，它不是真正的文件系统。 反而，它是一个由 Linux 内核维护的虚拟文件系统。它所包含的文件是内核的窥视孔。这些文件是可读的， 它们会告诉你内核是怎样监管计算机的。|
| /root | root 帐户的主目录。|
| /sbin | 	这个目录包含 “系统” 二进制文件。它们是完成重大系统任务的程序，通常为超级用户保留。 |
| /tmp | 这个 /tmp 目录，是用来存储由各种程序创建的临时文件的地方。一些配置，导致系统每次 重新启动时，都会清空这个目录。|
| /usr | 在 Linux 系统中，/usr 目录可能是最大的一个。它包含普通用户所需要的所有程序和文件。 |
| /usr/bin | /usr/bin 目录包含系统安装的可执行程序。通常，这个目录会包含许多程序。|
| /usr/lib	 | 包含由 /usr/bin 目录中的程序所用的共享库。|
| /usr/local | 这个 /usr/local 目录，是非系统发行版自带，却打算让系统使用的程序的安装目录。 通常，由源码编译的程序会安装在 /usr/local/bin 目录下。新安装的 Linux 系统中，会存在这个目录， 但却是空目录，直到系统管理员放些东西到它里面。|
| /usr/sbin | 包含许多系统管理程序。|
|/usr/share| /usr/share 目录包含许多由 /usr/bin 目录中的程序使用的共享数据。 其中包括像默认的配置文件，图标，桌面背景，音频文件等等。|
| /usr/share/doc | 大多数安装在系统中的软件包会包含一些文档。在 /usr/share/doc 目录下， 我们可以找到按照软件包分类的文档。|
| /var | 除了 /tmp 和 /home 目录之外，相对来说，目前我们看到的目录是静态的，这是说， 它们的内容不会改变。/var 目录是可能需要改动的文件存储的地方。各种数据库，假脱机文件， 用户邮件等等，都驻扎在这里。|
| /var/log | 这个 /var/log 目录包含日志文件，各种系统活动的记录。这些文件非常重要，并且 应该时时监测它们。其中最重要的一个文件是 /var/log/messages。注意，为了系统安全，在一些系统中， 你必须是超级用户才能查看这些日志文件。|

需要关注的几个目录：
* /etc，这个目录用来存放所有的系统管理所需要的配置文件和子目录。
* /bin, /sbin, /usr/bin, /usr/sbin: 这是系统预设的执行文件的放置目录。
* /bin, /usr/bin，给系统用户使用的指令。
* /sbin, /usr/sbin，给 root 用户使用的指令。
* /var/log，应用程序日志文件目录。