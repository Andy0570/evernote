# ä¸º VMware è™šæ‹Ÿæœºå†…å®‰è£…çš„ Ubuntu 16.0.4 è®¾ç½®é™æ€IP

### ç½‘ç»œæ‹“æ‰‘å›¾

![](http://on-img.com/chart_image/5b1f52fce4b00490ac9567be.png?_=1528783139062)



1. é¦–å…ˆæ‰“å¼€ Windows è®¾ç½® > æ§åˆ¶é¢æ¿ > ç½‘ç»œå’Œ Internet > ç½‘ç»œå’Œå…±äº«ä¸­å¿ƒ > æ›´æ”¹é€‚é…å™¨è®¾ç½® ï¼š

   ![](https://ws1.sinaimg.cn/large/006tKfTcgy1fs7ol4ixpwj31kw0epdgv.jpg)

   è¿™è¾¹æœ‰ä¸¤ç‚¹éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼š

   ä¸€ï¼šä¸»æœºè¿åˆ°å¤–ç½‘çš„ç½‘å¡ï¼ˆè¿™é‡Œæ˜¯ VMware Network Adapter VMnet1ï¼‰éœ€è¦é¼ æ ‡å³å‡»å±æ€§ > è®¾ç½® Internet è¿æ¥å…±äº«ï¼Œæ·»åŠ  VMware Network Adapter VMnet8ï¼š

   ![](https://ws3.sinaimg.cn/large/006tKfTcgy1fs7orjfkq6j30bm0brdfz.jpg)

   æ·»åŠ å…±äº«ä¹‹åï¼Œå¯ä»¥å» Windows çš„ cmd æ§åˆ¶å°æŸ¥çœ‹ç½‘å¡ä¸º VMnet8 åˆ†é…çš„ IP åœ°å€ï¼š

   ä½¿ç”¨å‘½ä»¤ `ipconfig` å³å¯æŸ¥çœ‹ï¼š

   ![](https://ws4.sinaimg.cn/large/006tKfTcgy1fs7oythwa4j30xa07gt8q.jpg)



   äºŒï¼šVMware Network Adapter VMnet8 ç½‘å¡å±æ€§è®¾ç½® Internet åè®®ç‰ˆæœ¬ï¼ˆTCP/IPV4ï¼‰å±æ€§å¦‚ä¸‹ï¼š

   * IP åœ°å€å°±æ˜¯ä¸Šä¸€æ­¥æŸ¥è¯¢åˆ°çš„ IPv4 åœ°å€ï¼š192.168.137.1

   ![](https://ws3.sinaimg.cn/large/006tKfTcgy1fs7ow41s5kj31cc0wsgoi.jpg)

2. è®¾ç½® VMware èœå•æ çš„ç¼–è¾‘ > è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨ :

   ![](https://ws4.sinaimg.cn/large/006tKfTcgy1fs7pcglusij30ge0a2t90.jpg)

   ![](https://ws1.sinaimg.cn/large/006tKfTcgy1fs7pfw9md6j30wq0tc3zx.jpg)

   * å› ä¸ºåˆ†é…ç»™ VMnet8 çš„IPåœ°å€æ˜¯ 192.168.137.1ï¼Œæ‰€ä»¥å­ç½‘IPè¦è®¾ç½®ä¸º192.168.137.0

   * å–æ¶ˆå‹¾é€‰ DHCP ä¹‹å‰ï¼Œå¯ä»¥å…ˆç‚¹å‡»å³è¾¹çš„ **DHCPè®¾ç½®**ï¼ŒæŸ¥çœ‹ Ubuntu è™šæ‹Ÿæœºå¯ç”¨çš„IPåœ°å€èŒƒå›´ï¼š

     ![](https://ws3.sinaimg.cn/large/006tKfTcgy1fs7pjfcpcbj30v60mudgt.jpg)

     å¯ä»¥çœ‹åˆ°å¯ç”¨çš„IPåœ°å€èŒƒå›´æ˜¯ï¼š192.168.137.128 ï½ 192.168.137.254ã€‚æ‰€ä»¥è¯´ **IP åœ°å€çš„å€¼å¹¶ä¸æ˜¯å®Œå…¨ä»»æ„è®¾ç½®çš„**ã€‚

   * ç‚¹å‡» NAT è®¾ç½®ï¼Œä¸»è¦æ˜¯æŸ¥çœ‹å¹¶è®¾ç½®ç½‘å…³IPï¼š192.168.137.2ã€‚ç„¶åè¿™é‡Œçš„å­ç½‘æ©ç ã€ç½‘å…³IPéƒ½éœ€è¦è®°ä½ï¼Œå› ä¸ºæ¥ä¸‹æ¥è®¾ç½®é™æ€IPä¼šç”¨åˆ°ã€‚ä¸‹é¢çš„ç«¯å£è½¬å‘è®¾ç½®å¯ä»¥å…ˆä¸ç”¨ç®¡ï¼Œä¸‹é¢ä¼šè¯´åˆ°ã€‚

     ![](https://ws3.sinaimg.cn/large/006tKfTcgy1fs7plqiphuj30rg0t6js7.jpg)

3. ç¼–è¾‘è™šæ‹Ÿæœºè®¾ç½®ï¼Œç½‘ç»œé€‚é…å™¨è®¾ç½®ä¸ºè‡ªå®šä¹‰ VMnet8ï¼ˆNATæ¨¡å¼ï¼‰ï¼š

   ğŸ’¡ è¿™ä¸€æ­¥éœ€è¦åœ¨è™šæ‹Ÿæœºå…³æœºçŠ¶æ€ä¸‹æ‰èƒ½è®¾ç½®ã€‚

   ![](https://ws2.sinaimg.cn/large/006tKfTcgy1fs7prcotp1j312u0rc3ze.jpg)

4. æ‰“å¼€ Ubuntuè™šæ‹Ÿæœºï¼Œè®¾ç½®è¯¥è™šæ‹Ÿæœºçš„é™æ€IPåœ°å€ï¼Œç¼–è¾‘ `/etc/network/interfaces` é…ç½®æ–‡ä»¶ã€‚

   æ‰“å¼€æ§åˆ¶å°ï¼Œå‘½ä»¤è¡Œä¸­è¾“å…¥ï¼š`sudo vim /etc/network/interfaces` ï¼Œç¼–è¾‘æ·»åŠ å¦‚ä¸‹æ‰€ç¤ºï¼š

   ![](https://ws2.sinaimg.cn/large/006tKfTcgy1fs7pt4dj2ij30ew08bq37.jpg)

   * ens33 æ˜¯è™šæ‹Ÿå™¨çš„ç½‘å¡åç§°ï¼Œå¯ä»¥é€šè¿‡ `ifconfig` æŸ¥çœ‹ä½ çš„è¿™ä¸ªç½‘å¡åç§°æ˜¯å•¥ï¼Œå› ä¸ºä¸ä¸€å®šæ˜¯ eth0ã€‚
   * address æ˜¯IPåœ°å€ï¼Œå› ä¸ºIPåœ°å€çš„è®¾ç½®èŒƒå›´æ˜¯192.168.137.128 ï½ 192.168.137.254ï¼Œæ‰€ä»¥å¯ä»¥è®¾ç½®ä¸º 192.168.137.130.
   * netmask æ˜¯å­ç½‘æ©ç ã€‚
   * gateway æ˜¯ç½‘å…³åœ°å€ã€‚
   * broadcast æ˜¯å¹¿æ’­åœ°å€ï¼Œä¸çŸ¥é“çš„è¯å¯ä»¥åœ¨æ§åˆ¶å°è¾“å…¥`ifconfig` æŸ¥çœ‹ã€‚
   * dns-nameservers æ˜¯ DNS åœ°å€ã€‚

5. ç¼–è¾‘ `/etc/resolv.conf` DNS é…ç½®æ–‡ä»¶ã€‚å‘½ä»¤è¡Œè¾“å…¥`sudo vim /etc/resolv.conf`ï¼Œé…ç½® DNS åœ°å€ä¸ºé˜¿é‡Œäº‘çš„åœ°å€ï¼š

   ![](https://ws3.sinaimg.cn/large/006tKfTcgy1fs7py6sg0xj30ka02r74i.jpg)

   > æ³¨æ„ï¼šåœ¨ç›¸å¯¹è¾ƒæ—©çš„ç‰ˆæœ¬ä¸­ï¼Œä½ éœ€è¦è®¾ç½® / etc ä¸‹çš„ resolv.conf æ–‡ä»¶ï¼Œå¹¶åŠ å…¥ nameserverï¼Œè¿™æ ·æ‰å¯ä»¥è¿æ¥äº’è”ç½‘ã€‚ä½†åœ¨ Ubuntu 12.04 ä¹‹åï¼Œå·²ç»ä¸æ¨èè¿™ç§æ–¹å¼äº†ï¼Œå› ä¸ºæ— è®ºä½ æƒ³è¯¥é…ç½®æ–‡ä»¶ä¸­è®¾ç½®ä»€ä¹ˆå€¼ï¼Œé‡æ–°å¯åŠ¨ä¹‹åéƒ½ä¼šè¢«è¿˜åŸä¸ºåˆå§‹çŠ¶æ€ã€‚æ¨èçš„åšæ³•æ˜¯ç›´æ¥åœ¨ interfaces é…ç½®æ–‡ä»¶ä¸­åŠ å…¥ dns-nameserver <ç½‘å…³ IP> è¿™ä¸€è¡Œã€‚

   ç¼–è¾‘å®Œæˆåé‡å¯ç½‘å¡ï¼š  `sudo /etc/init.d/networking restart`ï¼Œæˆ–è€…é‡å¯è™šæ‹Ÿå™¨ï¼š`sudo reboot`ã€‚

   æœ€åä½¿ç”¨ ping å‘½ä»¤éªŒè¯ã€‚



### å…¶å®ƒé—®é¢˜

#### æ›´æ”¹ Ubuntu é”®ç›˜é…ç½®

```shell
# æ›´æ”¹ä¸ºæ ‡å‡† 104 é”®ç›˜
sudo dpkg-reconfigure keyboard-configuration
```



#### ä½¿ç”¨ vi å‘½ä»¤ç¼–è¾‘é…ç½®æ–‡ä»¶æ—¶ï¼Œé”®ç›˜è¾“å…¥iåº•éƒ¨ä¸æ˜¾ç¤º -- INSERT -- æ¥æ˜¾ç¤ºç¼–è¾‘å™¨æ¨¡å¼

```shell
# å®‰è£…å¹¶ä½¿ç”¨ vim
sudo apt-get install vim
```



#### su

1. ç¼–è¾‘ /etc/NetworkManger/NetworkManger.conf æ–‡ä»¶
   `sudo vim /etc/NetworkManger/NetworkManger.conf`
   å°† `managed=false` ä¿®æ”¹ä¸º `managed=true`ã€‚
2. é‡å¯ network-manager service:
   `sudo service network-manager restart`



#NATæ¨¡å¼å®ç°å±€åŸŸç½‘ç‰©ç†æœºä¸è™šæ‹Ÿæœºçš„äº’é€šè®¿é—®

è¿™é‡Œå°±æ˜¯ä¸Šé¢ç•¥è¿‡çš„ç«¯å£è½¬å‘è®¾ç½®ï¼Œä¸éš¾ç†è§£ï¼Œå‚è€ƒå¦‚ä¸‹ï¼š

* [ NAT æ¨¡å¼å®ç°å±€åŸŸç½‘ç‰©ç†æœºä¸è™šæ‹Ÿæœºçš„äº’é€šè®¿é—®](https://blog.csdn.net/u011031430/article/details/77131841)
* [å±€åŸŸç½‘è®¿é—®ç”µè„‘ä¸­ VMware è™šæ‹Ÿæœº](https://blog.csdn.net/u012268339/article/details/61204801)

#### è™šæ‹Ÿæœºæ‰€å±ç”µè„‘çš„é˜²ç«å¢™è®¾ç½®

ç«¯å£è½¬å‘è®¾ç½®å¥½ä¹‹åï¼ŒåŒä¸€ä¸ªå±€åŸŸç½‘å†…çš„ä¸»æœºåº”è¯¥å¯ä»¥è®¿é—® Ubuntu ä¸Šè¿è¡Œçš„ Serverï¼Œæˆ–è€…ä½¿ç”¨ SSH ç™»å½•ï¼Œå¦‚æœä¸è¡Œæˆ–è€… ping ä¸é€šçš„è¯ï¼Œä½ å¯èƒ½éœ€è¦ç¨å¾®å…³æ³¨ä¸€ä¸‹ Ubuntu æ‰€åœ¨çš„ windows ä¸»æœºé˜²ç«å¢™è®¾ç½®ï¼Œéœ€è¦æ·»åŠ å…¥ç«™è§„åˆ™ä»¥æ‰“å¼€ç«¯å£ï¼š

![](https://ws3.sinaimg.cn/large/006tKfTcgy1fs7q34gfc8j30c10fnglj.jpg)



## æ¡¥æ¥æ¨¡å¼

NATæ¨¡å¼ä¸­ï¼Œè™šæ‹Ÿæœºå’Œå®¿ä¸»æœºä¸æ˜¯åœ¨åŒä¸€ä¸ªç½‘æ®µçš„ï¼Œè€Œä½¿ç”¨æ¡¥æ¥æ¨¡å¼åˆ™å¯ä»¥è®©è™šæ‹Ÿæœºå’Œå®¿ä¸»æœºåœ¨åŒä¸€ä¸ªç½‘æ®µä¸­ã€‚

æ³¨æ„ç‚¹ï¼š

1. å®¿ä¸»æœºéœ€è¦å‹¾é€‰ VMware Bridge Protocolï¼ˆæ›´æ”¹é€‚é…å™¨è®¾ç½®-VMware Network Adapter VMnet1 å±æ€§ - ç½‘ç»œ - å‹¾é€‰ VMware Bridge Protocolï¼‰ã€‚
2. VMware è®¾ç½®ï¼šè™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨æ·»åŠ æ¡¥æ¥æ¨¡å¼ç½‘ç»œã€‚
3. è™šæ‹Ÿæœºç½‘ç»œé€‚é…å™¨è®¾ç½®ï¼šç½‘ç»œè¿æ¥å‹¾é€‰ã€Œæ¡¥æ¥æ¨¡å¼ã€ã€‚
4. æ‰“å¼€è™šæ‹Ÿæœºï¼Œè®¾ç½®IPåœ°å€éœ€è¦å’Œå®¿ä¸»æœºåœ¨åŒä¸€ä¸ªç½‘æ®µå†…ï¼Œç½‘å…³IPåœ°å€éœ€è¦å’Œå®¿ä¸»æœºç›¸åŒã€‚
5. é‡å¯è™šæ‹Ÿæœºç½‘ç»œé€‚é…å™¨æˆ–é‡å¯ç”µè„‘å³å¯ã€‚



### å‚è€ƒ

* [~~Vmware è™šæ‹Ÿæœºè®¾ç½®é™æ€ IP åœ°å€~~](https://www.cnblogs.com/chengssblog/p/6531964.html) | æ–‡ç« é‡Œçš„ä¿®æ”¹ç½‘ç»œé…ç½®æ–‡ä»¶ç›®å½•æŒ‡çš„åº”è¯¥æ˜¯CentOSç³»ç»Ÿï¼Œè€ŒUbuntuä¸‹åº”è¯¥æ˜¯ /etc/network/interfaces æ–‡ä»¶ã€‚
* [Ubuntu çš„ç½‘ç»œé…ç½®æ–‡ä»¶](http://blog.163.com/yi_yixinyiyi/blog/static/136286889201122221528757/)
* [Linuxå…¬ç¤¾: ä¸º VMware è™šæ‹Ÿæœºå†…å®‰è£…çš„ Ubuntu 16.04 è®¾ç½®é™æ€ IP åœ°å€ | 2017-04-24](https://www.linuxidc.com/Linux/2017-04/143102.htm)
* [ç®€ä¹¦: ä¸º VMware è™šæ‹Ÿæœºå†…å®‰è£…çš„ Ubuntu 16.04 è®¾ç½®é™æ€ IP åœ°å€](https://www.jianshu.com/p/625de9911bfb)
* [How to Configure Ubuntu Server 16.04 to Use a Static IP Address](https://graspingtech.com/ubuntu-server-16-04-static-ip/)


