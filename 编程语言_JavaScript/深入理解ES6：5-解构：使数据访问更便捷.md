 Tipsï¼šå¯¹è±¡è§£æ„ã€æ•°ç»„è§£æ„
 
**è§£æ„**æ˜¯ä¸€ç§æ‰“ç ´æ•°æ®è§£æ„ï¼Œå°†å…¶æ‹†åˆ†ä¸ºæ›´å°éƒ¨åˆ†çš„è¿‡ç¨‹ã€‚


### ä¸ºä½•ä½¿ç”¨è§£æ„åŠŸèƒ½

åœ¨ ES5 ä¹‹å‰ï¼Œå¼€å‘è€…ä¸ºäº†ä»å¯¹è±¡å’Œæ•°ç»„ä¸­è·å¾—ç‰¹å®šæ•°æ®å¹¶èµ‹å€¼ç»™å˜é‡ï¼Œç¼–å†™äº†è®¸å¤šçœ‹èµ·æ¥åŒè´¨åŒ–çš„ä»£ç ï¼š
 
```javascript
let options = {
  repeat: true,
  save: false
};

// ä»å¯¹è±¡ä¸­æå–æ•°æ®
let repeat = options.repeat,
    save = options.save;
```

### å¯¹è±¡è§£æ„

å¯¹è±¡è§£æ„çš„è¯­æ³•å½¢å¼æ˜¯ï¼š**åœ¨ä¸€ä¸ªèµ‹å€¼æ“ä½œç¬¦å·¦è¾¹æ”¾ç½®ä¸€ä¸ªå¯¹è±¡å­—é¢é‡**ã€‚

> ğŸ’¡ è¯­æ³•ç±»ä¼¼äº Swift è¯­æ³•ä¸­çš„**å…ƒç»„**ï¼ˆTupleï¼‰ã€‚

```javascript
let node = {
  type: 'Identifier',
  name: 'foo'
};

// å˜é‡å£°æ˜ä¸­ä½¿ç”¨è§£æ„è¯­æ³•
let { type, name } = node;
console.log(type); // Identifier
console.log(name); // foo
```

Node.js ä¸­ç»å¸¸ä¼šå‡ºç°è¿™æ ·çš„ä»£ç ï¼š

```javascript
async functionName(param) {
    const { ctx, service } = this;
    
    // å®é™…ä¸Šï¼š
    // ctx = this.ctx
    // service = this.service
}
```

### è§£æ„èµ‹å€¼

ç»™å˜é‡èµ‹å€¼æ—¶ä½¿ç”¨è§£æ„è¯­æ³•ã€‚

**ä¸€å®šè¦ç”¨ä¸€å¯¹å°æ‹¬å·åŒ…è£¹è§£æ„èµ‹å€¼è¯­å¥**ï¼šJSè¯­æ³•è§„å®šï¼Œä»£ç å—è¯­å¥ä¸å…è®¸å‡ºç°åœ¨èµ‹å€¼è¯­å¥å·¦ä¾§ï¼Œæ·»åŠ å°æ‹¬å·å¯ä»¥å°†ä»£ç å—è¯­å¥è½¬åŒ–ä¸ºä¸€ä¸ªè¡¨è¾¾å¼ï¼Œä»è€Œå®ç°æ•´ä¸ªè§£æ„èµ‹å€¼çš„è¿‡ç¨‹ã€‚

```javascript
let node = {
    type: 'Identifier',
    name: 'foo'
  },
  type = 'Literal',
  name = 5;

// ä½¿ç”¨è§£æ„è¯­æ³•ä¸ºå¤šä¸ªå˜é‡èµ‹å€¼
// å®šä¹‰å˜é‡åä¿®æ”¹å˜é‡çš„å€¼
({ type, name } = node);

console.log(type); // Identifier
console.log(name); // foo
```

### é»˜è®¤å€¼

* ä½¿ç”¨è§£æ„èµ‹å€¼è¡¨è¾¾å¼æ—¶ï¼Œå¦‚æœæŒ‡å®šçš„å±€éƒ¨å˜é‡åç§°åœ¨å¯¹è±¡ä¸­ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆè¿™ä¸ªå±€éƒ¨å˜é‡ä¼šè¢«èµ‹å€¼ä¸º `undefined`ã€‚
* å½“æŒ‡å®šçš„å±æ€§ä¸å­˜åœ¨æ—¶ï¼Œå¯ä»¥éšæ„å®šä¹‰ä¸€ä¸ªé»˜è®¤å€¼ï¼Œåœ¨å±æ€§åç§°åæ·»åŠ ä¸€ä¸ªç­‰å·ï¼ˆ=ï¼‰å’Œç›¸åº”çš„é»˜è®¤å€¼å³å¯ã€‚

```javascript
let node = {
  type: 'Identifier',
  name: 'foo'
};

// å®šä¹‰é»˜è®¤å€¼
let { type, name, value = true } = node;
console.log(type); // Identifier
console.log(name); // foo
console.log(value); // true
```

### ä¸ºéåŒåå±€éƒ¨å˜é‡èµ‹å€¼

> ğŸ’¡ è¯­æ³•ç±»ä¼¼äº Swift è¯­æ³•ä¸­çš„**å‡½æ•°å‚æ•°æ ‡ç­¾**ï¼Œä½†æ˜¯å£°æ˜çš„é¡ºåºé¢ å€’äº†ã€‚

```javascript
let node = {
  type: 'Identifier',
  name: 'foo'
};

// let localType = node.type;
// let localName = node.name;
// type: localType å«ä¹‰ï¼šè¯»å–åä¸º type çš„å±æ€§ï¼Œå¹¶å°†å…¶å€¼å­˜å‚¨åœ¨å˜é‡ localType ä¸­ã€‚
// name: localName = "bar"ï¼Œæ”¯æŒæ·»åŠ é»˜è®¤å€¼
let { type: localType, name: localName = "bar" } = node;
console.log(localType); // Identifier
console.log(localName); // foo
```

### åµŒå¥—å¯¹è±¡è§£æ„

è§£æ„åµŒå¥—å¯¹è±¡ä¸å¯¹è±¡å­—é¢é‡è¯­æ³•ç›¸ä¼¼ï¼Œå¯ä»¥å°†å¯¹è±¡æ‹†è§£ä»¥è·å–ä½ æƒ³è¦çš„ä¿¡æ¯ã€‚

```javascript
let node = {
  type: 'Identifier',
  name: 'foo',
  loc: {
    start: {
      line: 1,
      clumn: 1
    },
    end: {
      line: 1,
      clumn: 1
    }
  }
};

// let start = node.loc.start;
let { loc: { start }} = node;

console.log(start.line); // 1
console.log(start.clumn); // 1


// æ”¯æŒä½¿ç”¨ä¸å¯¹è±¡å±æ€§åä¸åŒçš„å±€éƒ¨å˜é‡åï¼ˆå¦å¤–è®¾ç½®ä¸€ä¸ªå˜é‡åï¼‰
let { loc: { start: localStart }} = node;

console.log(localStart.line); // 1
console.log(localStart.clumn); // 1
```

### æ•°ç»„è§£æ„

æ•°ç»„è§£æ„ä½¿ç”¨æ•°ç»„å­—é¢é‡ï¼Œè€Œä¸”è§£æ„æ“ä½œå…¨éƒ¨åœ¨æ•°ç»„å†…å®Œæˆã€‚

```javascript
let colors = ['red', 'green', 'blue'];

let [firstColor, secondColor] = colors;

console.log(firstColor); // red
console.log(secondColor); // green
```

åœ¨æ•°ç»„è§£æ„è¯­æ³•ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å€¼åœ¨æ•°ç»„ä¸­çš„ä½ç½®è¿›è¡Œé€‰å–ï¼Œä¸”å¯ä»¥å°†å…¶å­˜å‚¨åœ¨ä»»æ„å˜é‡ä¸­ï¼Œæœªæ˜¾å¼å£°æ˜çš„å…ƒç´ éƒ½ä¼šè¢«ç›´æ¥å¿½ç•¥ã€‚

åœ¨è§£æ„æ¨¡å¼ä¸­ï¼Œä¹Ÿå¯ä»¥ç›´æ¥çœç•¥å…ƒç´ ï¼Œåªä¸ºä½ æ„Ÿå…´è¶£çš„å…ƒç´ æä¾›å˜é‡åã€‚

```javascript
let colors = ['red', 'green', 'blue'];

let [, , thirdColor] = colors;

console.log(thirdColor); // blue
```

### è§£æ„èµ‹å€¼

æ•°ç»„è§£æ„ä¹Ÿå¯ä»¥ç”¨äºèµ‹å€¼ä¸Šä¸‹æ–‡ï¼Œä½†æ˜¯**ä¸éœ€è¦ç”¨å°æ‹¬å·åŒ…è£¹è¡¨è¾¾å¼**ã€‚ï¼ˆä¸å¯¹è±¡è§£æ„èµ‹å€¼ä¸åŒï¼ï¼‰

```javascript
let colors = ['red', 'green', 'blue'],
  firstColor = 'black',
  secondColor = 'purple';

// æ•°ç»„çš„è§£æ„èµ‹å€¼ï¼ŒåŒæ ·æ”¯æŒè®¾ç½®é»˜è®¤å€¼ï¼š
[firstColor, secondColor = "green"] = colors;

console.log(firstColor); // red
console.log(secondColor); // green
```

æ•°ç»„è§£æ„è¯­æ³•çš„ç‹¬ç‰¹ç”¨ä¾‹ï¼š**äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼**ã€‚

```javascript
// åœ¨ ECMAScript 5 ä¸­äº¤æ¢å˜é‡
let a = 1,
  b = 2,
  tmp;

tmp = a;
a = b;
b = tmp;

console.log(a); // 2
console.log(b); // 1

// -------------------------
// åœ¨ ECMAScript 6 ä¸­äº¤æ¢å˜é‡
let a = 1,
  b = 2;

[a, b] = [b, a];

console.log(a); // 2
console.log(b); // 1
```

### åµŒå¥—æ•°ç»„è§£æ„

```javascript
let colors = ["red", ["green", "lightGreen"], "blue"];

// å˜é‡ secondColor å¼•ç”¨çš„æ˜¯ colors æ•°ç»„ä¸­çš„å€¼ "green"
let [firstColor, [secondColor]] = colors;

console.log(firstColor); // red
console.log(secondColor); // green
```

### ä¸å®šå…ƒç´ 

åœ¨æ•°ç»„ä¸­ï¼Œå¯ä»¥é€šè¿‡ ... è¯­æ³•å°†æ•°ç»„ä¸­çš„å…¶ä½™å…ƒç´ èµ‹å€¼ç»™ä¸€ä¸ªç‰¹å®šçš„å˜é‡ã€‚

```javascript
let colors = ['red', 'green', 'blue'];

let [firstColor, ...restColors] = colors;

console.log(firstColor); // red
console.log(restColors.length); // 2
console.log(restColors[0]); // green
console.log(restColors[1]); // blue
```


åœ¨ ECMAScript 5 ä¸­ï¼Œå¼€å‘è€…ç»å¸¸ä½¿ç”¨ `concat()` æ–¹æ³•æ¥å…‹éš†æ•°ç»„ï¼š

```javascript
var colors = ['red', 'green', 'blue'];

// åœ¨ ECMAScript 5 ä¸­å…‹éš†æ•°ç»„
var clonedColors = colors.concat();
console.log(clonedColors); // [ 'red', 'green', 'blue' ]

// åœ¨ ECMAScript 6 ä¸­å¯ä»¥ä½¿ç”¨ä¸å®šå‚æ•°å®ç°ç›¸åŒçš„åŠŸèƒ½
let [...clonedColors2] = colors; 
console.log(clonedColors2); // [ 'red', 'green', 'blue' ]
```


### æ··åˆè§£æ„

å¯ä»¥æ··åˆä½¿ç”¨å¯¹è±¡è§£æ„å’Œæ•°ç»„è§£æ„æ¥åˆ›å»ºæ›´å¤šå¤æ‚çš„è¡¨è¾¾å¼ã€‚

```javascript
let node = {
  type: 'Identifier',
  name: 'foo',
  loc: {
    start: {
      line: 1,
      column: 1
    },
    end: {
      line: 1,
      column: 1
    }
  },
  range: [0, 3]
};

// å¯¹è±¡è§£æ„ï¼šstart = node.local.start
// æ•°ç»„è§£æ„ï¼šstartIndex = node.range[0]
let {
  loc: { start }, 
  range: [startIndex] 
} = node;

console.log(start.line); // 1
console.log(start.column); // 1
console.log(startIndex); // 0
```

### è§£æ„å‚æ•°

è§£æ„å¯ä»¥ç”¨åœ¨å‡½æ•°çš„å‚æ•°ä¼ é€’è¿‡ç¨‹ä¸­ï¼Œå½“å®šä¹‰ä¸€ä¸ªæ¥å—å¤§é‡å¯é€‰å‚æ•°çš„ JavaScript å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šåˆ›å»ºä¸€ä¸ªå¯é€‰å¯¹è±¡ï¼Œå°†é¢å¤–çš„å‚æ•°å®šä¹‰ä¸ºè¿™ä¸ªå¯¹è±¡çš„å±æ€§ï¼š

```javascript
// name å’Œ value æ˜¯å¿…éœ€å‚æ•°ã€‚
// secureã€pathã€domainã€expires æ˜¯å¯é€‰å‚æ•°
// options çš„å±æ€§è¡¨ç¤ºå…¶ä»–å‚æ•°
function setCookie(name, value, options) {
  options = options || {};

  let secure = options.secure,
      path = options.path,
      domain = options.domain,
      expires = options.expires;
  
  // è®¾ç½® cookie ä»£ç 
}

// ç¬¬ä¸‰ä¸ªå‚æ•°æ˜ å°„åˆ° optoins ä¸­
setCookie("type", "js", {
  secure: true,
  expires: 60000
});
```

ä»¥ä¸Šçš„é—®é¢˜æ˜¯ï¼Œä»…æŸ¥çœ‹å‡½æ•°çš„å£°æ˜ï¼Œæ— æ³•è¾¨è¯†å‡½æ•°çš„é¢„æœŸå‚æ•°ï¼Œå¿…é¡»é˜…è¯»å‡½æ•°ä½“æ‰å¯ä»¥ç¡®å®šæ‰€æœ‰å‚æ•°çš„æƒ…å†µã€‚
å°† `options` å®šä¹‰ä¸ºè§£æ„å‚æ•°å¯ä»¥è§£å†³ä»¥ä¸Šé—®é¢˜ï¼š

```javascript
function setCookie(name, value, { secure, path, domain, expires }) {
  // è®¾ç½® cookie ä»£ç 
}

setCookie('type', 'js', {
  secure: true,
  expires: 60000
});
```


#### å¿…é¡»ä¼ å€¼çš„è§£æ„å‚æ•°

è§£æ„å‚æ•°æœ‰ä¸€ä¸ªå¥‡æ€ªçš„åœ°æ–¹ï¼š**é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœè°ƒç”¨å‡½æ•°æ—¶ä¸æä¾›è¢«è§£æ„çš„å‚æ•°ä¼šå¯¼è‡´ç¨‹åºæŠ›å‡ºé”™è¯¯ã€‚**

```js
// ä»¥ä¸Šå‡½æ•°ï¼Œä¸ä¼ è§£æ„å‚æ•°ä¼šæŠ¥é”™
setCookie('type', 'js'); // æŠ¥é”™ï¼
```

### è§£æ„å‚æ•°çš„é»˜è®¤å€¼

ğŸ’¡ å¯¹äºå¯¹è±¡ç±»å‹çš„è§£æ„å‚æ•°ï¼Œå»ºè®®ä¸ºå…¶èµ‹äºˆç›¸åŒè§£æ„çš„é»˜è®¤å‚æ•°ã€‚

```js
// ç¬¬ä¸€ä¸ªå¯¹è±¡å­—é¢é‡æ˜¯è§£æ„å‚æ•°ï¼Œç¬¬äºŒä¸ªä¸ºé»˜è®¤å€¼
function setCookie(name, value, 
  { 
    secure = false, 
    path = "/", 
    domain = "example.com", 
    expires = new Date(Date.now() + 360000000) 
  } = {
    secure = false, 
    path = "/", 
    domain = "example.com", 
    expires = new Date(Date.now() + 360000000) 
  }
  ) {
  // è®¾ç½® cookie ä»£ç 
}
```

ä¼˜åŒ–ï¼šå°†é»˜è®¤å€¼æå–åˆ°ä¸€ä¸ªç‹¬ç«‹å¯¹è±¡ä¸­ï¼Œä»¥æ¶ˆé™¤å†—ä½™ï¼š

```js
// å°†é»˜è®¤å€¼è®¾ç½®ä¸ºä¸€ä¸ªç‹¬ç«‹å¯¹è±¡
const setCookieDefaults = {
  secure = false, 
  path = "/", 
  domain = "example.com", 
  expires = new Date(Date.now() + 360000000) 
}

function setCookie(name, value, 
  { 
    secure = false, 
    path = "/", 
    domain = "example.com", 
    expires = new Date(Date.now() + 360000000) 
  } = setCookieDefaults
  ) {
  // è®¾ç½® cookie ä»£ç 
}
```



 
